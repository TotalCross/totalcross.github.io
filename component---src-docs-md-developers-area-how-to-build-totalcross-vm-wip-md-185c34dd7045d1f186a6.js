(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{kvUe:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return s})),n.d(t,"default",(function(){return i}));var l=n("k1TG"),c=n("8o2o"),a=(n("q1tI"),n("7ljp")),o=n("hhGP"),s=(n("qKvR"),{});void 0!==s&&s&&s===Object(s)&&Object.isExtensible(s)&&!s.hasOwnProperty("__filemeta")&&Object.defineProperty(s,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/docs/md/developers-area/how-to-build-totalcross-vm-wip.md"}});var r={_frontmatter:s},b=o.a;function i(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(a.b)(b,Object(l.a)({},r,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"how-to-build-totalcross-vm-wip"},"How to build TotalCross VM ","(","WIP",")"),Object(a.b)("p",null,"Learn the steps to generate your custom VM. Our build process needs Docker, please ",Object(a.b)("a",Object(l.a)({parentName:"p"},{href:"https://docs.docker.com/get-docker/"}),"install it")," and check your installation:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"$ docker --version\n")),Object(a.b)("p",null,"After cloning the project you will have:"),Object(a.b)("p",null,'{% hint style="success" %}\nTo clone the project use the command:',Object(a.b)("br",{parentName:"p"}),"\n",Object(a.b)("inlineCode",{parentName:"p"},"git clone https://github.com/TotalCross/totalcross.git TotalCross"),"\n{% endhint %}"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"TotalCross/\n├─ LitebaseSDK/\n├─ TotalCrossSDK/\n└─ TotalCrossVM/\n")),Object(a.b)("p",null,"You will need to enter inside ",Object(a.b)("inlineCode",{parentName:"p"},"TotalCrossVM/builders")," folder, please:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"$ cd TotalCrossVM/builders\n")),Object(a.b)("p",null,"Your folder structure will be something like this:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"TotalCross\n├─ LitebaseSDK\n├─ TotalCrossSDK\n└─ TotalCrossVM\n     ├─ builders/\n     │    ├─ droid/\n     │    ├─ gcc-linux-arm/\n     │    ├─ gcc-posix/\n     │    ├─ vc2008/\n     │    ├─ vc2013/\n     │    ├─ vc2017/\n     │    ├─ xcode/\n     │    └─ build.xml\n     ├─ deps/\n     └─ src/\n")),Object(a.b)("h2",{id:"linux-x86-64"},"Linux x86-64"),Object(a.b)("p",null,"Enter into ",Object(a.b)("inlineCode",{parentName:"p"},"gcc-posix")," folder:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders$ cd gcc-posix\n")),Object(a.b)("p",null,"First, let's build the docker image:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders/gcc-posix$ cd docker\n~TotalCrossVM/builders/gcc-posix/docker$ ./build.sh\n")),Object(a.b)("p",null,"If you have no problems you should check the image:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders/gcc-posix/docker$ docker images\nREPOSITORY                              TAG                 IMAGE ID            CREATED             SIZE\ntotalcross/amd64-cross-compile          bionic              cd8fb68f0fc6        a minute ago        1.03GB\n<none>                                  <none>              1a0e943d6239        27 hours ago        464MB\n.\n.\n.\n~TotalCrossVM/builders/gcc-posix/docker$ cd ..\n")),Object(a.b)("p",null,"Next, let's build ",Object(a.b)("inlineCode",{parentName:"p"},"libtcvm.so"),":"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders/gcc-posix$ cd tcvm\n~TotalCrossVM/builders/gcc-posix/tcvm$ ./build.sh\n")),Object(a.b)("p",null,"If you don't have any build errors, your folder will be something like this:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"TotalCross\n├─ LitebaseSDK\n├─ TotalCrossSDK\n└─ TotalCrossVM\n     ├─ builders/\n     │    ├─ droid/\n     │    ├─ gcc-linux-arm/\n     │    ├─ gcc-posix/\n     │    │    ├─ docker\n     │    │    ├─ launcher\n     │    │    └─ tcvm\n     │    │         ├─ bin/\n     │    │         │    └─ libtcvm.so\n     │    │         ├─ build.sh\n     │    │         ├─ libskia.a\n     │    │         └─ Makefile\n     │    ├─ vc2008/\n     │    ├─ vc2013/\n     │    ├─ vc2017/\n     │    ├─ xcode/\n     │    └─ build.xml\n     ├─ deps/\n     └─ src/\n")),Object(a.b)("p",null,"Look to the ",Object(a.b)("inlineCode",{parentName:"p"},"bin")," folder, now you just need to copy ",Object(a.b)("inlineCode",{parentName:"p"},"libtcvm.so")," to your valid SDK folder"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders/gcc-posix/tcvm$ cp bin/libtcvm.so $PATH_TO_VALID_SDK/dist/vm/linux\n")),Object(a.b)("h2",{id:"linux-arm"},"Linux ARM"),Object(a.b)("p",null,"Enter into ",Object(a.b)("inlineCode",{parentName:"p"},"gcc-linux-arm")," folder:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders$ cd gcc-linux-arm\n")),Object(a.b)("p",null,"First, let's build the docker image:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders/gcc-linux-arm$ cd docker-builder-image\n~TotalCrossVM/builders/gcc-linux-arm/docker-builder-image$ ./build.sh\n")),Object(a.b)("p",null,"If you have no problems you should check the image:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders/gcc-posix/docker$ docker images\nREPOSITORY                              TAG                 IMAGE ID            CREATED             SIZE\ntotalcross/totalcross/cross-compile     latest              cd8fb68f0fc6        a minute ago        1.03GB\n<none>                                  <none>              1a0eea5a6dv0        15 hours ago        1.46GB\n.\n.\n.\n~TotalCrossVM/builders/gcc-linux-arm/docker-builder-image$ cd ..\n")),Object(a.b)("p",null,"TotalCross Linux ARM VM needs SDL2 statically linked, please:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders/gcc-linux-arm$ cd sdl\n~TotalCrossVM/builders/gcc-linux-arm/sdl$ ./build.sh\n")),Object(a.b)("p",null,"If you have no errors:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders/gcc-linux-arm/sdl$ cd ..\n")),Object(a.b)("p",null,"Next, let's build ",Object(a.b)("inlineCode",{parentName:"p"},"libtcvm.so"),":"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders/gcc-linux-arm$ cd tcvm\n~TotalCrossVM/builders/gcc-linux-arm/tcvm$ ./build.sh\n")),Object(a.b)("p",null,"If you don't have any build errors, your folder will be something like this:"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"TotalCross\n├─ LitebaseSDK\n├─ TotalCrossSDK\n└─ TotalCrossVM\n     ├─ builders/\n     │    ├─ droid/\n     │    ├─ gcc-linux-arm/\n     │    │    ├─ docker-builder-image\n     │    │    ├─ launcher\n     │    │    ├─ sdl\n     │    │    └─ tcvm\n     │    │         ├─ bin/\n     │    │         │    └─ libtcvm.so\n     │    │         ├─ build.sh\n     │    │         ├─ libskia.a\n     │    │         └─ Makefile\n     │    ├─ gcc-posix/\n     │    ├─ vc2008/\n     │    ├─ vc2013/\n     │    ├─ vc2017/\n     │    ├─ xcode/\n     │    └─ build.xml\n     ├─ deps/\n     └─ src/\n")),Object(a.b)("p",null,"Look to the ",Object(a.b)("inlineCode",{parentName:"p"},"bin")," folder, now you just need to copy ",Object(a.b)("inlineCode",{parentName:"p"},"libtcvm.so")," to your valid SDK folder"),Object(a.b)("pre",null,Object(a.b)("code",Object(l.a)({parentName:"pre"},{className:"language-text"}),"~TotalCrossVM/builders/gcc-linux-arm/tcvm$ cp bin/libtcvm.so $PATH_TO_VALID_SDK/dist/vm/linux_arm\n")))}void 0!==i&&i&&i===Object(i)&&Object.isExtensible(i)&&!i.hasOwnProperty("__filemeta")&&Object.defineProperty(i,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/docs/md/developers-area/how-to-build-totalcross-vm-wip.md"}}),i.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-docs-md-developers-area-how-to-build-totalcross-vm-wip-md-185c34dd7045d1f186a6.js.map