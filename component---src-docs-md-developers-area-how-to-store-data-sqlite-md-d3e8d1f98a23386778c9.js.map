{"version":3,"sources":["webpack:///./src/docs/md/developers-area/how-to-store-data-sqlite.md","webpack:///./src/docs/md/.gitbook/assets/totalcross_crud.jpg"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","alt","src","require","isMDXComponent","module","exports"],"mappings":"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","file":"component---src-docs-md-developers-area-how-to-store-data-sqlite-md-d3e8d1f98a23386778c9.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/nrisbakk/Projects/newTC/totalcross-github-io/totalcross.github.io/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"local-database---sqlite\"\n    }}>{`Local Database - SQLite`}</h1>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`To store data locally, TotalCross uses the database named SQLite. The same used in native development for Android.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://www.sqlite.org/index.html\"\n      }}>{`SQLite`}</a>{` is an open source SQL database that stores data in a text file on a device. TotalCross comes with the implementation of the SQLite database.`}</p>\n    {\n      /* {% hint style=\"success\" %} */\n    }\n    <p>{`One of the differentials of TotalCross is that it allows SQLite `}<strong parentName=\"p\">{`to be built into`}</strong>{` the platform so that the developer does `}<strong parentName=\"p\">{`NOT`}</strong>{` have to worry about the version of SQLite and the compatibility of the OS version with the database.`}</p>\n    {\n      /* {% endhint %} */\n    }\n    <p>{`SQLite supports all relational database features. To access this database, you do not need to establish any type of connection to it, such as JDBC, ODBC and others.`}</p>\n    <p>{`To understand how TotalCross works with SQLite, let's create a simple project in the next steps!`}</p>\n    {\n      /* {% hint style=\"success\" %} */\n    }\n    <p>{`Let's now learn how to do CRUD `}{`(`}{`Create, Read, Update, Delete`}{`)`}{` with SQLite in TotalCross`}</p>\n    {\n      /* {% endhint %} */\n    }\n    <p><img alt=\"crud-image\" src={require(\"../.gitbook/assets/totalcross_crud.jpg\")} /></p>\n    <h2 {...{\n      \"id\": \"creating-a-totalcross-project-with-sqlite\"\n    }}>{`Creating a TotalCross Project with SQLite`}</h2>\n    {\n      /* {% hint style=\"info\" %} */\n    }\n    <p>{`Remember that the link to download the source code is in the topic References at the end of this session.`}</p>\n    {\n      /* {% endhint %} */\n    }\n    <p>{`Let's use the Maven project we created in the chapter \"`}<a parentName=\"p\" {...{\n        \"href\": \"https://learn.totalcross.com/learn-totalcross/getting-started/first-totalcross-app\"\n      }}>{`Your Frist TotalCross App`}</a>{`\" called HelloTC. If you do not have it there and you want to create a `}<a parentName=\"p\" {...{\n        \"href\": \"https://learn.totalcross.com/learn-totalcross/getting-started\"\n      }}>{`Maven project from the start`}</a>{`, that's fine!`}</p>\n    <h3 {...{\n      \"id\": \"project-structure\"\n    }}>{`Project Structure`}</h3>\n    <p>{`As you will learn better from the chapters in the suggested `}<a parentName=\"p\" {...{\n        \"href\": \"https://learn.totalcross.com/guideline/suggested-architecture\"\n      }}>{`Architecture `}</a>{`and `}<a parentName=\"p\" {...{\n        \"href\": \"https://learn.totalcross.com/guideline/suggested-design-patterns\"\n      }}>{`Design Patterns`}</a>{`, TotalCross suggests following the MVC and DAO standard in creating your applications.`}</p>\n    <p>{`So let's start by creating three packages:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`ui`}</strong>{` - Where will all UI classes stay.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`util`}</strong>{` - Here is the SQLite database creation class`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`dao`}</strong>{` - This is the package that will save all Data Access Object `}{`(`}{`DB`}{`)`}{`.`}</li>\n    </ul>\n    <p>{`Once this is done, our project will be structured as follows:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-text\"\n      }}>{`- HelloTC\n  - src\n    - main\n        - java\n            - dao\n            - ui\n            - util\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"creating-the-local-database\"\n    }}>{`Creating the local database`}</h3>\n    <p>{`Inside the `}<strong parentName=\"p\">{`package util`}</strong>{` we will create a class called `}<strong parentName=\"p\">{`DatabaseManager`}</strong>{` and we will create a `}<inlineCode parentName=\"p\">{`static`}</inlineCode>{` object of type `}<inlineCode parentName=\"p\">{`SQLiteUtil`}</inlineCode>{` called `}<strong parentName=\"p\">{`sqliteUtil`}</strong>{`.`}</p>\n    <p>{`That done, inside a static block we will initialize the sqliteUtilpassando as argument `}<inlineCode parentName=\"p\">{`Settings.appPath`}</inlineCode>{` and the name of our database in quotation marks. It is important to remember to always put \"`}<strong parentName=\"p\">{`.db`}</strong>{`\" next to the name.`}</p>\n    <p>{`Now let's go to our `}<inlineCode parentName=\"p\">{`Statement`}</inlineCode>{` `}{`(`}{`interface used to execute SQL command`}{`)`}{` to establish the connection with our database and then pass the command to create the cpf table.`}</p>\n    {\n      /* {% hint style=\"info\" %} */\n    }\n    <p>{`Prior knowledge of SQLite is required to better work with the creation of your application's local database. We recommend this `}<a parentName=\"p\" {...{\n        \"href\": \"http://sd.blackball.lv/library/The_Definitive_Guide_to_SQLite_2nd_edition.pdf\"\n      }}>{`pdf`}</a>{` for you to learn more`}</p>\n    {\n      /* {% endhint %} */\n    }\n    <p>{`After that, we finished the first part. Here's how it went:`}</p>\n    {\n      /* {% code title=\"static\" %} */\n    }\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class DatabaseManager {\n\n    public static SQLiteUtil sqliteUtil;\n\n    static {\n        try {\n            sqliteUtil = new SQLiteUtil(Settings.appPath, \"test.db\");\n            Statement st = sqliteUtil.con().createStatement();\n            st.execute(\"create table if not exists person (cpf varchar)\");\n            st.close();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n`}</code></pre>\n    {\n      /* {% endcode %} */\n    }\n    <p>{`Now let's create a static method to return our connection to the database so we can use it inside the DAO package when we manipulate data.`}</p>\n    {\n      /* {% code title=\"getConenction\" %} */\n    }\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public static Connection getConnection() throws SQLException {\n    return sqliteUtil.con();\n}\n`}</code></pre>\n    {\n      /* {% endcode %} */\n    }\n    <p>{`And ready. Here's how our connection class with the database below:`}</p>\n    {\n      /* {% code title=\"DatabaseManager\" %} */\n    }\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public class DatabaseManager {\n\n    public static SQLiteUtil sqliteUtil;\n\n    static {\n        try {\n            sqliteUtil = new SQLiteUtil(Settings.appPath, \"test.db\");\n            Statement st = sqliteUtil.con().createStatement();\n            st.execute(\"create table if not exists person (cpf varchar)\");\n            st.close();\n\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static Connection getConnection() throws SQLException {\n        return sqliteUtil.con();\n    }\n}\n\n`}</code></pre>\n    {\n      /* {% endcode %} */\n    }\n    <h4 {...{\n      \"id\": \"inserting-data-into-the-table\"\n    }}>{`Inserting data into the table`}</h4>\n    <p><strong parentName=\"p\">{`Inside our DAO`}</strong>{` package we will create a `}<strong parentName=\"p\">{`CPFDAO class`}</strong>{`. Let's call it this because it is the name of our table in the database + DAO as the default name to say that that class corresponds to an access object to the database, in this case the CPF.`}</p>\n    <p>{`Once this is done, we will create a method for registering the CPF in the local database. For this method, just ask as an argument the CPF of type Stringe then create a connection with the bank and execute the SQLite command passing it as text in the `}<inlineCode parentName=\"p\">{`.executeUpdate`}</inlineCode>{`.`}</p>\n    {\n      /* {% code title=\"insert\" %} */\n    }\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public void insertCPF(String cpf) throws SQLException {\n    boolean success = false;\n    Connection dbcon = DatabaseManager.getConnection();\n    String sql = \"insert into person values(?)\";\n    PreparedStatement ps = dbcon.prepareStatement(sql);\n    ps.setString(1, cpf);\n\n    int i = ps.executeUpdate();\n    ps.close();\n\n    if (i > 0) {\n        success = true;\n    } else {\n        success = false;\n    }\n    return success;\n}\n`}</code></pre>\n    {\n      /* {% endcode %} */\n    }\n    <h3 {...{\n      \"id\": \"reading-local-data\"\n    }}>{`Reading local data`}</h3>\n    <p>{`To make the data of a table not SQLite is very simple, just execute the `}<strong parentName=\"p\">{`Select`}</strong>{` command through a `}<inlineCode parentName=\"p\">{`executeQuery`}</inlineCode>{`to return the data from the table and then create a `}<inlineCode parentName=\"p\">{`While`}</inlineCode>{` to traverse all rows of the returned table and store that data within a `}<inlineCode parentName=\"p\">{`ArrayList`}</inlineCode>{`.`}</p>\n    <p>{`In the code below you will be able to return all the data registered in the local database. The call and display part for the user is in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://totalcross.gitbook.io/playbook/learn-totalcross/how-to-store-data-sqlite#overview\"\n      }}>{`UI topic`}</a>{`.`}</p>\n    {\n      /* {% code title=\"Reading local data - getCPF\" %} */\n    }\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public ArrayList<String> getCPF() throws SQLException {\n        ArrayList<String> cpfs = new ArrayList<>();\n\n        try {\n            Connection dbcon = DatabaseManager.getConnection();\n            Statement st = dbcon.createStatement();\n            ResultSet rs = st.executeQuery(\"select * from person\");\n\n            while (rs.next()) {\n                String cpf = rs.getString(\"cpf\");\n                cpfs.add(cpf);\n            }\n            rs.close();\n            st.close();\n        } catch (java.sql.SQLException e) {\n            e.printStackTrace();\n        }\n\n        return cpfs;\n    }\n`}</code></pre>\n    {\n      /* {% endcode %} */\n    }\n    <h3 {...{\n      \"id\": \"updating-data\"\n    }}>{`Updating Data`}</h3>\n    <p>{`To update the data is also very simple, just pass the SQLite command called Update with the value of the old field and the current field. If you want to better understand how this command works in SQLite, we recommend this `}<a parentName=\"p\" {...{\n        \"href\": \"http://www.sqlitetutorial.net/sqlite-update/\"\n      }}>{`article`}</a>{`.`}</p>\n    {\n      /* {% code title=\"Update Data - updateCPF\" %} */\n    }\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public void updateCPF(String cpf_novo, String cpf_old) throws SQLException {\n        Connection dbcon = DatabaseManager.getConnection();\n        String sql = \"UPDATE person SET cpf = \" + cpf_old\n                + \" WHERE cpf = \"+ cpf_novo;\n        PreparedStatement ps = dbcon.prepareStatement(sql);\n        ps.executeUpdate();\n        ps.close();\n}\n`}</code></pre>\n    {\n      /* {% endcode %} */\n    }\n    <h3 {...{\n      \"id\": \"deleting-data\"\n    }}>{`Deleting Data`}</h3>\n    <p>{`To delete a record, simply execute the command `}<a parentName=\"p\" {...{\n        \"href\": \"http://www.sqlitetutorial.net/sqlite-delete/\"\n      }}>{`Delete`}</a>{` and pass through the `}<inlineCode parentName=\"p\">{`PreparedStatement`}</inlineCode>{` the value to be deleted and run through the `}<inlineCode parentName=\"p\">{`executeUpdate`}</inlineCode></p>\n    {\n      /* {% code title=\"deleteCPF\" %} */\n    }\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`public void deleteCPF(String cpf) throws SQLException {\n    Connection dbcon = DatabaseManager.getConnection();\n    String sql = \"DELETE from person where cpf = ?\";\n    PreparedStatement ps = dbcon.prepareStatement(sql);\n    ps.setString(1, cpf);\n    ps.executeUpdate();\n}\n`}</code></pre>\n    {\n      /* {% endcode %} */\n    }\n    <h2 {...{\n      \"id\": \"user-interface\"\n    }}>{`User Interface`}</h2>\n    <p>{`In this chapter, our focus is not the user interface but rather learn the basics about SQLite and apply it with TotalCross. Knowing this, let's put here the interface code that we use to build this basic example. If you have any doubts about this most graphic part, we recommend giving a quick read on the `}<a parentName=\"p\" {...{\n        \"href\": \"https://totalcross.gitbook.io/playbook/components/accordion-container\"\n      }}>{`Components `}</a>{`section in our documentation.`}</p>\n    {\n      /* {% hint style=\"info\" %} */\n    }\n    <p>{`Remembering that everything related to interfaces goes inside the `}<strong parentName=\"p\">{`UI package`}</strong></p>\n    {\n      /* {% endhint %} */\n    }\n    <h3 {...{\n      \"id\": \"initial-screen\"\n    }}>{`Initial Screen`}</h3>\n    <p>{`Where we call the method to register the CPF`}</p>\n    {\n      /* {% code title=\"Inicial\" %} */\n    }\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`package com.totalcross.sample.ui;\n\nimport java.util.ArrayList;\n\nimport com.totalcross.sample.dao.CPFDAO;\n\nimport totalcross.sql.SQLException;\nimport totalcross.ui.Button;\nimport totalcross.ui.Container;\nimport totalcross.ui.Edit;\nimport totalcross.ui.Label;\nimport totalcross.ui.MainWindow;\nimport totalcross.ui.dialog.MessageBox;\nimport totalcross.ui.event.ControlEvent;\nimport totalcross.ui.event.PressListener;\nimport totalcross.ui.gfx.Color;\nimport totalcross.util.InvalidDateException;\n\npublic class Inicial extends Container {\n    private static Edit maskedEdit;\n    private static Button btnOutlined, btnDeletar, btnVerCPF, btnAtualizar;\n\n    public void initUI() {\n        Label cpfLabel = new Label(\"Para cadastrar ou deletar, digite o \\\\nseu CPF:\");\n        add(cpfLabel, LEFT + 100, AFTER + 50, PREFERRED, Inicial.PREFERRED);\n\n        maskedEdit = new Edit(\"999.999.999-99\");\n        btnOutlined = new Button(\"Cadastrar CPF\", Button.BORDER_OUTLINED);\n        btnVerCPF = new Button(\"Ver CPFs Cadastrados\", Button.BORDER_OUTLINED);\n        btnAtualizar = new Button(\"Atualizar CPF\", Button.BORDER_OUTLINED);\n        btnDeletar = new Button(\"Deletar CPF\", Button.BORDER_OUTLINED);\n\n        maskedEdit.caption = \"\";\n        maskedEdit.setMode(Edit.NORMAL, true);\n        maskedEdit.setValidChars(Edit.numbersSet);\n        maskedEdit.transparentBackground = true;\n        maskedEdit.addPressListener(new PressListener() {\n\n            public void controlPressed(ControlEvent event) {\n                if (event.target == maskedEdit && maskedEdit.getText().length() == \"999.999.999-99\".length()) {\n                    btnOutlined.setEnabled(true);\n                    btnOutlined.setForeColor(Color.BLUE);\n                    btnOutlined.repaintNow();\n                } else {\n                    btnOutlined.setEnabled(false);\n                    btnOutlined.setForeColor(Color.BLACK);\n                    btnOutlined.repaintNow();\n                }\n\n            }\n        });\n\n        btnOutlined.setEnabled(false);\n        btnOutlined.setBackForeColors(Color.BLACK, Color.WHITE);\n        btnVerCPF.setBackForeColors(Color.BLACK, Color.WHITE);\n        btnDeletar.setBackForeColors(Color.BLACK, Color.WHITE);\n        btnAtualizar.setBackForeColors(Color.BLACK, Color.WHITE);\n\n        add(maskedEdit, SAME, AFTER + 50, PREFERRED, Inicial.PREFERRED);\n        add(btnOutlined, LEFT, AFTER + 100, FILL, PREFERRED);\n        add(btnVerCPF, LEFT, AFTER + 30, FILL, PREFERRED);\n        add(btnAtualizar, LEFT, AFTER + 30, FILL, PREFERRED);\n        add(btnDeletar, LEFT, AFTER + 30, FILL, PREFERRED);\n\n        btnDeletar.addPressListener((event) -> {\n            try {\n                deleteCPF();\n            } catch (Exception ee) {\n                MessageBox.showException(ee, true);\n            }\n        });\n\n        btnOutlined.addPressListener((event) -> {\n            try {\n                doInsert();\n            } catch (Exception ee) {\n                MessageBox.showException(ee, true);\n            }\n        });\n\n        btnAtualizar.addPressListener((event) -> {\n            try {\n                MainWindow.getMainWindow().swap(new Update());\n            } catch (Exception ee) {\n                MessageBox.showException(ee, true);\n            }\n        });\n\n        btnVerCPF.addPressListener((event) -> {\n            try {\n                ArrayList<String> cpfs = new ArrayList<>();\n                cpfs = new CPFDAO().getCPF();\n                MessageBox mb;\n                if (cpfs.size() > 0) {\n                    for (int i = 0; i < cpfs.size(); i++) {\n                        mb = new MessageBox((i + 1) + \"º CPF Cadastrado\", cpfs.get(i));\n                        mb.setBackForeColors(Color.WHITE, Color.BLACK);\n                        mb.popup();\n                    }\n                } else {\n                    mb = new MessageBox(\"Atenção\", \"Nenhum CPF foi cadastrado\");\n                    mb.setBackForeColors(Color.WHITE, Color.BLACK);\n                    mb.popup();\n                }\n\n            } catch (Exception ee) {\n                MessageBox.showException(ee, true);\n            }\n        });\n    }\n\n    private static void doInsert() throws SQLException, InvalidDateException, java.sql.SQLException {\n        if (maskedEdit.getTextWithoutMask() == \"\") {\n            MessageBox mb = new MessageBox(\"Atenção!\", \"Preencha o campo CPF\");\n            mb.setBackForeColors(Color.WHITE, Color.BLACK);\n            mb.popup();\n\n        } else {\n            // simple example of how you can insert data into SQLite..\n            String cpf = maskedEdit.getTextWithoutMask();\n            boolean success = new CPFDAO().insertCPF(cpf);\n\n            if (success) {\n                MessageBox mb = new MessageBox(\"Atenção!\", \"CPF:\" + cpf + \" foi cadastrado com sucesso!\");\n                mb.setBackForeColors(Color.WHITE, Color.BLACK);\n                mb.popup();\n            } else {\n                MessageBox mb = new MessageBox(\"Atenção!\", \"Erro ao cadastrar\");\n                mb.setBackForeColors(Color.WHITE, Color.BLACK);\n                mb.popup();\n            }\n        }\n    }\n\n    private static void deleteCPF() throws java.sql.SQLException {\n        if (maskedEdit.getTextWithoutMask() == \"\") {\n            MessageBox mb = new MessageBox(\"Atenção!\", \"Preencha o campo CPF\");\n            mb.setBackForeColors(Color.WHITE, Color.BLACK);\n            mb.popup();\n\n        } else {\n            // simple example of how you can insert data into SQLite..\n            String cpf = maskedEdit.getTextWithoutMask();\n            new CPFDAO().deleteCPF(cpf);\n\n            MessageBox mb = new MessageBox(\"Atenção!\", \"CPF:\" + cpf + \" foi deletado!\");\n            mb.setBackForeColors(Color.WHITE, Color.BLACK);\n            mb.popup();\n\n        }\n    }\n}\n`}</code></pre>\n    {\n      /* {% endcode %} */\n    }\n    <ol>\n      <li parentName=\"ol\">{`Notice that at l`}<strong parentName=\"li\">{`ine 69`}</strong>{` is where we call the `}<strong parentName=\"li\">{`CPFDAO`}{`(`}{`)`}{`.InsertCPF`}</strong>{` `}{`(`}{`cpf`}{`)`}{` and register the CPF entered in the local database.`}</li>\n      <li parentName=\"ol\">{`At `}<strong parentName=\"li\">{`line 70`}</strong>{` we call the `}<strong parentName=\"li\">{`getCPF`}{`(`}{`)`}</strong>{` method to read the database data and assign the result to the cpfs array..`}</li>\n      <li parentName=\"ol\">{`At `}<strong parentName=\"li\">{`line 135`}</strong>{` we call the `}<strong parentName=\"li\">{`deleteCPF`}{`(`}{`cpf`}{`)`}</strong>{` method to delete the CPF that was typed.`}</li>\n    </ol>\n    <h3 {...{\n      \"id\": \"update-screen\"\n    }}>{`Update Screen`}</h3>\n    {\n      /* {% code title=\"update\" %} */\n    }\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-java\"\n      }}>{`package com.totalcross.sample.ui;\n\nimport com.totalcross.sample.dao.CPFDAO;\n\nimport totalcross.ui.Button;\nimport totalcross.ui.Container;\nimport totalcross.ui.Edit;\nimport totalcross.ui.Label;\nimport totalcross.ui.dialog.MessageBox;\nimport totalcross.ui.gfx.Color;\n\npublic class Update extends Container {\n    private Label cpfLabel, cpfLabel1;\n    private Button btnupdate;\n    private Edit maskedEdit, maskedEditCPF;\n\n    public Update() {\n\n    }\n\n    public void initUI() {\n        cpfLabel = new Label(\"CPF atual:\");\n        cpfLabel1 = new Label(\"Novo CPF:\");\n\n        maskedEdit = new Edit(\"999.999.999-99\");\n        maskedEdit.caption = \"\";\n        maskedEdit.setMode(Edit.NORMAL, true);\n        maskedEdit.setValidChars(Edit.numbersSet);\n        maskedEdit.transparentBackground = true;\n\n        maskedEditCPF = new Edit(\"999.999.999-99\");\n        maskedEditCPF.caption = \"\";\n        maskedEditCPF.setMode(Edit.NORMAL, true);\n        maskedEditCPF.setValidChars(Edit.numbersSet);\n        maskedEditCPF.transparentBackground = true;\n\n        btnupdate = new Button(\"Atualizar\", Button.BORDER_OUTLINED);\n        btnupdate.setBackForeColors(Color.BLACK, Color.WHITE);\n\n        add(cpfLabel, LEFT + 100, TOP + 50, PREFERRED, Update.PREFERRED);\n        add(maskedEdit, SAME, AFTER + 50, PREFERRED, Inicial.PREFERRED);\n\n        add(cpfLabel1, LEFT + 100, AFTER + 50, PREFERRED, Update.PREFERRED);\n        add(maskedEditCPF, SAME, AFTER + 50, PREFERRED, Inicial.PREFERRED);\n\n        add(btnupdate, LEFT, AFTER + 100, FILL, PREFERRED);\n        btnupdate.addPressListener((event) -> {\n            try {\n                updateCPF();\n            } catch (Exception ee) {\n                MessageBox.showException(ee, true);\n            }\n        });\n\n    }\n\n    private void updateCPF() throws java.sql.SQLException {\n        if (maskedEdit.getTextWithoutMask() == \"\" || maskedEditCPF.getTextWithoutMask() == \"\") {\n            MessageBox mb = new MessageBox(\"Atenção!\", \"Preencha Todos os Campos\");\n            mb.setBackForeColors(Color.WHITE, Color.BLACK);\n            mb.popup();\n\n        } else {\n            // simple example of how you can insert data into SQLite..\n            String cpf_antigo = maskedEdit.getTextWithoutMask();\n            String cpf_novo = maskedEditCPF.getTextWithoutMask();\n            new CPFDAO().updateCPF(cpf_antigo, cpf_novo);\n\n            MessageBox mb = new MessageBox(\"Atenção!\", \"CPF:\" + cpf_antigo + \" foi atualizado para: \" + cpf_novo);\n            mb.setBackForeColors(Color.WHITE, Color.BLACK);\n            mb.popup();\n        }\n    }\n\n}\n`}</code></pre>\n    {\n      /* {% endcode %} */\n    }\n    <h2 {...{\n      \"id\": \"viewing-local-data\"\n    }}>{`Viewing local data`}</h2>\n    <p>{`To obtain the data registered in a SQLite database it is necessary to download a program called `}<a parentName=\"p\" {...{\n        \"href\": \"https://sqlitebrowser.org/\"\n      }}>{`DB Browser For SQLite`}</a>{`.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`After downloading and installing the program, simply run the file below to `}<strong parentName=\"li\">{`Open the database`}</strong>{` and then select the .`}<strong parentName=\"li\">{`db`}</strong>{` file that is i`}<strong parentName=\"li\">{`nside your project`}</strong>{`.`}</li>\n      <li parentName=\"ul\">{`Click \"`}<strong parentName=\"li\">{`Browse Data`}</strong>{`\" and then you will be seeing all the records of your SQLite database!`}</li>\n    </ul>\n    {\n      /* ![sqlite-data](../.gitbook/assets/sqlite-ver-dados.PNG) */\n    }\n    <h2 {...{\n      \"id\": \"references\"\n    }}>{`References`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`The entire project can be accessed through our `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/TotalCross/CRUD_SQLite\"\n        }}>{`GitHub`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"http://www.sqlitetutorial.net/\"\n        }}>{`SQLite Tutorial`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","module.exports = __webpack_public_path__ + \"static/totalcross_crud-9dd18478f0fc79b295341302c52bd316.jpg\";"],"sourceRoot":""}